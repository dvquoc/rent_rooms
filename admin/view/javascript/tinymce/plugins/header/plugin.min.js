tinymce.PluginManager.add("header", function(a, b) {
    var state;
    var list=[
            { text: '<h1>headding 1</h1>', value: 'h1'},
            { text: '<h2>headding 2</h2>', value: 'h2' },
            { text: '<h3>headding 3</h3>', value: 'h3' },
            { text: '<h4>headding 4</h4>', value: 'h4' },
            { text: '<h5>headding 5</h5>', value: 'h5' },
            { text: '<h6>headding 6</h6>', value: 'h6' },
      ];
     a.addButton('header',{  
      type: 'listbox',
      text: 'header',
      icon: false,
      onselect: function (e) {
        a.execCommand('mceReplaceContent',false,'<'+this.value()+'>{$selection}</'+this.value()+'>');return false;
      },
      values:list,
  });
  a.on('init', function(args) {
        a = args.target;
        a.on('NodeChange', function(e) {
            if (e) {
               for(var j=0; j<list.length; j++){
                   if(e.element.nodeName.toLowerCase()==list[j].value){
                     console.log(list[j].value);
                   }
               }
            }
        });
  });
});

         




